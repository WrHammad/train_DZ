<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù‚Ø·Ø§Ø± Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„: Ø§Ø®ØªØ¨Ø§Ø± 11 Ø¯ÙŠØ³Ù…Ø¨Ø±</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-green: #006233;
            --primary-red: #D21034;
            --bg-color: #f0fdf4;
            --card-bg: #ffffff;
            --text-color: #1f2937;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #f0fdf4 0%, #e0f2fe 100%);
            color: var(--text-color);
            margin: 0;
            padding: 15px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            background: var(--card-bg);
            border-radius: 20px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            padding: 20px;
            border: 2px solid white;
            position: relative;
            overflow: hidden;
        }

        /* --- ØªØµÙ…ÙŠÙ… Ø§Ù„Ù‚Ø·Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ (SVG) --- */
        .train-header {
            background: linear-gradient(to bottom, #bae6fd 0%, #f0f9ff 100%);
            border-radius: 15px;
            height: 140px;
            position: relative;
            margin-bottom: 20px;
            border-bottom: 8px solid #475569;
            overflow: hidden;
        }

        .train-illustration {
            width: 140px;
            position: absolute;
            bottom: 2px;
            left: -150px; /* ÙŠØ¨Ø¯Ø£ Ù…Ù† Ø®Ø§Ø±Ø¬ Ø§Ù„Ø´Ø§Ø´Ø© */
            animation: trainEntrance 1.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            filter: drop-shadow(2px 4px 6px rgba(0,0,0,0.2));
        }

        @keyframes trainEntrance {
            0% { left: -150px; }
            100% { left: 50%; transform: translateX(-50%); }
        }

        /* Ø¯Ø®Ø§Ù† Ø§Ù„Ù‚Ø·Ø§Ø± */
        .steam {
            position: absolute;
            background: rgba(255,255,255,0.8);
            border-radius: 50%;
            opacity: 0;
        }
        .steam-1 { width: 15px; height: 15px; left: 55%; bottom: 80px; animation: rise 2s infinite 0.5s; }
        .steam-2 { width: 22px; height: 22px; left: 58%; bottom: 95px; animation: rise 2s infinite 1s; }
        
        @keyframes rise {
            0% { transform: translateY(0) scale(1); opacity: 0.8; }
            100% { transform: translateY(-30px) scale(2); opacity: 0; }
        }

        /* --- Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† --- */
        h1 {
            color: var(--primary-red);
            text-align: center;
            font-size: 1.8rem;
            margin: 5px 0;
            text-shadow: 1px 1px 0px #ffe4e6;
        }

        h2 {
            text-align: center;
            font-size: 1rem;
            color: var(--primary-green);
            background: #dcfce7;
            padding: 5px 10px;
            border-radius: 20px;
            display: inline-block;
            margin: 0 auto 20px auto;
            width: 100%;
        }

        /* --- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… (Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ÙŠÙ…ÙŠÙ†) --- */
        .progress-track {
            height: 16px;
            background: #e2e8f0;
            border-radius: 10px;
            margin: 30px 0 20px 0;
            position: relative;
            border: 2px solid #cbd5e1;
            /* ØªØºÙŠÙŠØ± Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø´Ø±ÙŠØ· Ù„Ù„ÙŠØ³Ø§Ø±-ÙŠÙ…ÙŠÙ† Ù„ÙƒÙŠ ÙŠØªØ­Ø±Ùƒ Ø§Ù„Ù‚Ø·Ø§Ø± Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ */
            direction: ltr; 
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-green), #4ade80);
            width: 0%;
            border-radius: 10px;
            transition: width 0.6s ease;
            position: relative;
        }

        /* Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù‚Ø·Ø§Ø± Ø§Ù„ØµØºÙŠØ±Ø© ÙÙŠ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
        .mini-train {
            position: absolute;
            right: -15px; /* ÙŠØ¨Ø±Ø² Ù‚Ù„ÙŠÙ„Ø§ Ø¹Ù† Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„Ø´Ø±ÙŠØ· */
            top: -18px;
            width: 40px;
            height: auto;
            transition: right 0.6s ease;
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.2));
            z-index: 10;
        }

        /* Ø§Ù„Ù…Ø­Ø·Ø§Øª */
        .station-dot {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            background: white;
            border: 3px solid var(--primary-red);
            border-radius: 50%;
            z-index: 2;
        }

        /* --- Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§Ù„Ø£Ø¬ÙˆØ¨Ø© --- */
        .question-box {
            text-align: center;
            font-size: 1.2rem;
            font-weight: 700;
            margin: 20px 0;
            line-height: 1.5;
        }

        .options-grid {
            display: grid;
            gap: 12px;
        }

        .btn-option {
            background: white;
            border: 2px solid #e5e7eb;
            padding: 16px;
            border-radius: 12px;
            font-family: inherit;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--text-color);
            position: relative;
            outline: none;
            text-align: right; /* Ù„Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© */
            padding-right: 20px;
        }

        .btn-option:active { transform: scale(0.98); }
        
        .btn-option.correct {
            background: var(--primary-green);
            color: white;
            border-color: var(--primary-green);
            padding-right: 45px; /* Ù…Ø³Ø§Ø­Ø© Ù„Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØµØ­ */
        }
        .btn-option.correct::after {
            content: "âœ“";
            position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
            font-size: 1.2rem;
        }

        .btn-option.incorrect {
            background: var(--primary-red);
            color: white;
            border-color: var(--primary-red);
            padding-right: 45px;
        }
        .btn-option.incorrect::after {
            content: "âœ•";
            position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
            font-size: 1.2rem;
        }

        /* --- Ø²Ø± Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© --- */
        .btn-start {
            background: linear-gradient(45deg, var(--primary-red), #be123c);
            color: white;
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: bold;
            font-family: inherit;
            margin-top: 15px;
            box-shadow: 0 4px 15px rgba(210, 16, 52, 0.4);
            cursor: pointer;
        }

        /* --- Ø§Ù„Ù‚Ù„ÙˆØ¨ (Ø§Ù„ÙˆÙ‚ÙˆØ¯) --- */
        .fuel-bar {
            display: flex;
            justify-content: center;
            gap: 10px;
            background: #fff1f2;
            padding: 8px;
            border-radius: 12px;
            border: 1px solid #fecdd3;
            margin-bottom: 15px;
        }
        .heart { font-size: 1.5rem; transition: transform 0.3s; }
        .heart.lost { filter: grayscale(100%); opacity: 0.3; transform: scale(0.8); }

        /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© */
        .feedback-msg {
            text-align: center;
            margin-top: 15px;
            font-weight: bold;
            padding: 10px;
            border-radius: 8px;
            display: none;
            animation: popIn 0.3s;
        }
        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ© */
        .stats-row {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin: 20px 0;
        }
        .stat-box {
            background: #f8fafc;
            padding: 10px;
            border-radius: 10px;
            flex: 1;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        .stat-val { display: block; font-size: 1.2rem; font-weight: 900; color: var(--primary-green); }
        .stat-lbl { font-size: 0.8rem; color: #64748b; }

    </style>
</head>
<body>

    <div id="start-screen" class="container">
        <div class="train-header">
            <div class="steam steam-1"></div>
            <div class="steam steam-2"></div>
            
            <svg class="train-illustration" viewBox="0 0 200 120" xmlns="http://www.w3.org/2000/svg">
                <circle cx="40" cy="95" r="15" fill="#333" stroke="#555" stroke-width="3"/>
                <circle cx="80" cy="95" r="15" fill="#333" stroke="#555" stroke-width="3"/>
                <circle cx="140" cy="95" r="18" fill="#333" stroke="#555" stroke-width="3"/>
                <rect x="40" y="90" width="100" height="5" fill="#777" rx="2"/>
                <path d="M20 90 L170 90 L170 50 L120 50 L120 30 L20 30 Z" fill="#D21034"/>
                <rect x="20" y="55" width="100" height="10" fill="#006233"/>
                <path d="M120 90 L170 90 L170 40 L120 40 Z" fill="#006233"/>
                <rect x="130" y="50" width="30" height="20" fill="#bfdbfe" stroke="#333" stroke-width="2"/>
                <rect x="40" y="10" width="20" height="20" fill="#333"/>
                <path d="M30 10 L70 10 L60 30 L40 30 Z" fill="#555"/>
                <path d="M10 90 L20 90 L20 40 L10 60 Z" fill="#333"/>
                <title>Ù‚Ø·Ø§Ø± Ø§Ù„Ø­Ø±ÙŠØ©</title>
            </svg>
        </div>

        <h1>Ù‚Ø·Ø§Ø± Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„</h1>
        <h2>Ù…Ø­Ø·Ø© Ù…Ø¸Ø§Ù‡Ø±Ø§Øª 11 Ø¯ÙŠØ³Ù…Ø¨Ø± 1960</h2>
        
        <div class="stats-row">
            <div class="stat-box">
                <span class="stat-val">12</span>
                <span class="stat-lbl">Ø³Ø¤Ø§Ù„Ø§Ù‹</span>
            </div>
            <div class="stat-box">
                <span class="stat-val">4</span>
                <span class="stat-lbl">Ù…Ø­Ø·Ø§Øª</span>
            </div>
            <div class="stat-box">
                <span class="stat-val">3</span>
                <span class="stat-lbl">ÙØ±Øµ</span>
            </div>
        </div>

        <p style="text-align: center; color: #4b5563; margin-bottom: 20px;">
            Ø£Ø¬Ø¨ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ù„ØªØ²ÙˆÙŠØ¯ Ø§Ù„Ù‚Ø·Ø§Ø± Ø¨Ø§Ù„ÙˆÙ‚ÙˆØ¯ ÙˆØ§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ù…Ø­Ø·Ø© Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„!
        </p>

        <button class="btn-start" onclick="startGame()">Ø§Ù†Ø·Ù„Ø§Ù‚ Ø§Ù„Ø±Ø­Ù„Ø© ğŸš‚</button>
        <div style="text-align: center; margin-top: 15px; font-size: 0.8rem; color: #9ca3af;">ØªØµÙ…ÙŠÙ…: Ø­Ù…Ø§Ø¯ Ø¨Ù† Ø¹ÙŠØ³Ù‰</div>
    </div>

    <div id="game-screen" class="container" style="display: none;">
        
        <div class="fuel-bar" id="fuel-container">
            </div>

        <div class="progress-track">
            <div class="station-dot" style="left: 25%"></div>
            <div class="station-dot" style="left: 50%"></div>
            <div class="station-dot" style="left: 75%"></div>
            
            <div class="progress-fill" id="progress-fill">
                <svg class="mini-train" viewBox="0 0 100 60" xmlns="http://www.w3.org/2000/svg">
                     <path d="M10 40 L80 40 L80 20 L60 20 L60 10 L10 10 Z" fill="#D21034"/>
                     <rect x="60" y="15" width="20" height="15" fill="#006233"/>
                     <circle cx="25" cy="45" r="8" fill="#333"/>
                     <circle cx="50" cy="45" r="8" fill="#333"/>
                     <circle cx="75" cy="45" r="8" fill="#333"/>
                     <rect x="15" y="0" width="10" height="10" fill="#333"/>
                </svg>
            </div>
        </div>

        <h2 id="current-station">Ø§Ø³Ù… Ø§Ù„Ù…Ø­Ø·Ø©</h2>
        <div class="question-box" id="question-text">Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù‡Ù†Ø§ØŸ</div>
        
        <div class="options-grid" id="options-container">
            </div>

        <div class="feedback-msg" id="feedback"></div>
    </div>

    <script>
        const totalQuestions = 12;
        let currentIdx = 0;
        let score = 0;
        let lives = 3;

        // Ù†ÙØ³ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
        const quizData = [
            { station: "Ù…Ø­Ø·Ø© 1: Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø³ÙŠØ§Ø³ÙŠ", question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø°ÙŠ Ø­Ø§ÙˆÙ„ Ø¯ÙŠØºÙˆÙ„ ÙØ±Ø¶Ù‡ ÙÙŠ 1960ØŸ", options: ["Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©", "Ø§Ù„Ø­ÙƒÙ… Ø§Ù„Ø°Ø§ØªÙŠ", "Ø§Ù„ØªÙ‚Ø³ÙŠÙ…"], answer: "Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©" },
            { station: "Ù…Ø­Ø·Ø© 1: Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø³ÙŠØ§Ø³ÙŠ", question: "Ù„Ù…Ø§Ø°Ø§ Ù†Ø¸Ù…Øª Ø§Ù„Ø¬Ø¨Ù‡Ø© Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¸Ø§Ù‡Ø±Ø§ØªØŸ", options: ["Ù„Ø¯Ø¹Ù… Ø¯ÙŠØºÙˆÙ„", "Ù„Ø±ÙØ¶ Ø³ÙŠØ§Ø³Ø© Ø¯ÙŠØºÙˆÙ„", "Ù„Ø·Ù„Ø¨ Ø§Ù„Ù‡Ø¯Ù†Ø©", "Ù„Ù„Ø§Ø³ØªØ³Ù„Ø§Ù…"], answer: "Ù„Ø±ÙØ¶ Ø³ÙŠØ§Ø³Ø© Ø¯ÙŠØºÙˆÙ„" },
            { station: "Ù…Ø­Ø·Ø© 1: Ø§Ù„ØªØ­Ø¯ÙŠ Ø§Ù„Ø³ÙŠØ§Ø³ÙŠ", question: "Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ø¯ÙˆÙ„ÙŠ Ø§Ù„Ù…ØªØ²Ø§Ù…Ù† Ù…Ø¹ Ø§Ù„Ù…Ø¸Ø§Ù‡Ø±Ø§ØªØŸ", options: ["Ø¯ÙˆØ±Ø© Ø§Ù„Ø£Ù…Ù… Ø§Ù„Ù…ØªØ­Ø¯Ø©", "Ù…Ø¤ØªÙ…Ø± Ø¨Ø§Ù†Ø¯ÙˆÙ†Øº", "Ø§ØªÙØ§Ù‚ÙŠØ§Øª Ø¥ÙŠÙÙŠØ§Ù†", "Ù…Ø¬Ù„Ø³ Ø§Ù„Ø£Ù…Ù†"], answer: "Ø¯ÙˆØ±Ø© Ø§Ù„Ø£Ù…Ù… Ø§Ù„Ù…ØªØ­Ø¯Ø©" },
            
            { station: "Ù…Ø­Ø·Ø© 2: ØµÙˆØª Ø§Ù„Ø´Ø¹Ø¨", question: "Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø£Ø¨Ø±Ø² Ù„Ù„Ù…Ø¸Ø§Ù‡Ø±Ø§ØªØŸ", options: ["Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ù…Ø³Ù„Ù…Ø©", "Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ Ø§Ù„ØªØ§Ù…", "Ø§Ù„Ø®Ø¨Ø² Ù„Ù„Ø¬ÙˆØ¹Ù‰", "ÙŠØ³Ù‚Ø· Ø§Ù„Ø§Ø³ØªØ¹Ù…Ø§Ø±"], answer: "Ø§Ù„Ø§Ø³ØªÙ‚Ù„Ø§Ù„ Ø§Ù„ØªØ§Ù…" },
            { station: "Ù…Ø­Ø·Ø© 2: ØµÙˆØª Ø§Ù„Ø´Ø¹Ø¨", question: "Ø§Ù„ÙØ¦Ø© Ø§Ù„ØªÙŠ ÙƒØ§Ù† Ù„Ù‡Ø§ Ø¯ÙˆØ± Ø¨Ø§Ø±Ø² ÙˆÙ…ÙØ§Ø¬Ø¦ØŸ", options: ["Ø§Ù„Ù…Ø±Ø£Ø© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©", "Ø§Ù„Ø·Ù„Ø¨Ø© ÙÙ‚Ø·", "Ø§Ù„Ø¹Ù…Ø§Ù„ ÙÙ‚Ø·", "Ø§Ù„ÙÙ„Ø§Ø­ÙˆÙ†"], answer: "Ø§Ù„Ù…Ø±Ø£Ø© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©" },
            { station: "Ù…Ø­Ø·Ø© 2: ØµÙˆØª Ø§Ù„Ø´Ø¹Ø¨", question: "Ø±Ù…Ø²ÙŠØ© Ø§Ù„Ø¹Ù„Ù… Ø§Ù„ÙˆØ·Ù†ÙŠ ÙÙŠ Ø§Ù„Ù…Ø¸Ø§Ù‡Ø±Ø§ØªØŸ", options: ["Ù…Ø¬Ø±Ø¯ Ø±Ø§ÙŠØ©", "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø³ÙŠØ§Ø¯Ø© Ø§Ù„ÙˆØ·Ù†ÙŠØ©", "Ø²ÙŠÙ†Ø© Ù„Ù„Ø§Ø­ØªÙØ§Ù„", "Ø¥Ø´Ø§Ø±Ø© Ù„Ù„Ø­Ø±Ø¨"], answer: "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø³ÙŠØ§Ø¯Ø© Ø§Ù„ÙˆØ·Ù†ÙŠØ©" },

            { station: "Ù…Ø­Ø·Ø© 3: Ø§Ù„ØµÙ…ÙˆØ¯", question: "Ø±Ø¯ ÙØ¹Ù„ Ø§Ù„Ø§Ø³ØªØ¹Ù…Ø§Ø± Ø§Ù„ÙØ±Ù†Ø³ÙŠØŸ", options: ["Ø§Ù„ØªÙØ§ÙˆØ¶ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±", "Ø§Ù„Ù‚Ù…Ø¹ Ø§Ù„ÙˆØ­Ø´ÙŠ ÙˆØ§Ù„Ø±ØµØ§Øµ", "Ø§Ù„Ø§Ø¹ØªÙ‚Ø§Ù„ ÙÙ‚Ø·", "Ø§Ù„ØªØ¬Ø§Ù‡Ù„"], answer: "Ø§Ù„Ù‚Ù…Ø¹ Ø§Ù„ÙˆØ­Ø´ÙŠ ÙˆØ§Ù„Ø±ØµØ§Øµ" },
            { station: "Ù…Ø­Ø·Ø© 3: Ø§Ù„ØµÙ…ÙˆØ¯", question: "Ø§Ù„Ù…Ø¸Ø§Ù‡Ø±Ø§Øª Ø±Ø¯Øª Ø£ÙŠØ¶Ø§Ù‹ Ø¹Ù„Ù‰ØŸ", options: ["Ø§Ù„Ù…Ø¹Ù…Ø±ÙŠÙ† Ø§Ù„Ù…ØªØ·Ø±ÙÙŠÙ†", "Ø§Ù„Ø¬ÙŠØ´ ÙÙ‚Ø·", "Ø§Ù„Ø­ÙƒÙˆÙ…Ø© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©", "Ø§Ù„Ø£Ø­Ø²Ø§Ø¨ Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©"], answer: "Ø§Ù„Ù…Ø¹Ù…Ø±ÙŠÙ† Ø§Ù„Ù…ØªØ·Ø±ÙÙŠÙ†" },
            { station: "Ù…Ø­Ø·Ø© 3: Ø§Ù„ØµÙ…ÙˆØ¯", question: "Ø£ÙŠÙ† Ø§Ù†Ø·Ù„Ù‚Øª Ø§Ù„Ù…Ø¸Ø§Ù‡Ø±Ø§Øª Ø£ÙˆÙ„Ø§Ù‹ØŸ", options: ["Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± Ø§Ù„Ø¹Ø§ØµÙ…Ø©", "Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª", "ÙˆÙ‡Ø±Ø§Ù†", "Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©"], answer: "Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª" }, // Ù…Ø¹Ù„ÙˆÙ…Ø© ØªØ§Ø±ÙŠØ®ÙŠØ© Ø¯Ù‚ÙŠÙ‚Ø©

            { station: "Ù…Ø­Ø·Ø© 4: Ø§Ù„Ø§Ù†ØªØµØ§Ø±", question: "Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø¸Ø§Ù‡Ø±Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø³ÙŠØ©ØŸ", options: ["ÙØ´Ù„ Ø§Ù„Ù‚Ø¶ÙŠØ©", "ØªØ¯ÙˆÙŠÙ„ Ø§Ù„Ù‚Ø¶ÙŠØ© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©", "Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø§Ø³ØªØ¹Ù…Ø§Ø±", "ØªÙˆÙ‚Ù Ø§Ù„Ø«ÙˆØ±Ø©"], answer: "ØªØ¯ÙˆÙŠÙ„ Ø§Ù„Ù‚Ø¶ÙŠØ© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©" },
            { station: "Ù…Ø­Ø·Ø© 4: Ø§Ù„Ø§Ù†ØªØµØ§Ø±", question: "Ù…Ø§Ø°Ø§ Ø£Ø¯Ø±Ùƒ Ø¯ÙŠØºÙˆÙ„ØŸ", options: ["Ø£Ù†Ù‡ Ø³ÙŠÙ†ØªØµØ±", "Ø§Ø³ØªØ­Ø§Ù„Ø© Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± ÙØ±Ù†Ø³ÙŠØ©", "Ø¶Ø¹Ù Ø§Ù„Ø«ÙˆØ±Ø©", "Ù‚ÙˆØ© Ø¬ÙŠØ´Ù‡"], answer: "Ø§Ø³ØªØ­Ø§Ù„Ø© Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± ÙØ±Ù†Ø³ÙŠØ©" },
            { station: "Ù…Ø­Ø·Ø© 4: Ø§Ù„Ø§Ù†ØªØµØ§Ø±", question: "Ø£Ø«Ø±Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø«ÙˆØ±Ø©ØŸ", options: ["Ø¯ÙØ¹Ø© Ù‚ÙˆÙŠØ© Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…Ø³Ù„Ø­", "ØªÙˆÙ‚Ù Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…Ø³Ù„Ø­", "Ø§Ù†Ù‚Ø³Ø§Ù… Ø§Ù„Ø«ÙˆØ±Ø©", "Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø«ÙˆØ±Ø©"], answer: "Ø¯ÙØ¹Ø© Ù‚ÙˆÙŠØ© Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…Ø³Ù„Ø­" }
        ];

        function startGame() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            currentIdx = 0;
            score = 0;
            lives = 3;
            updateLives();
            updateProgress();
            loadQuestion();
        }

        function updateLives() {
            const container = document.getElementById('fuel-container');
            container.innerHTML = '';
            for(let i=0; i<3; i++) {
                const heart = document.createElement('span');
                heart.className = `heart ${i < lives ? '' : 'lost'}`;
                heart.textContent = 'â¤ï¸';
                container.appendChild(heart);
            }
        }

        function updateProgress() {
            const pct = (score / totalQuestions) * 100;
            document.getElementById('progress-fill').style.width = pct + '%';
        }

        function loadQuestion() {
            if (currentIdx >= totalQuestions) return endScreen(true);
            
            const q = quizData[currentIdx];
            document.getElementById('current-station').textContent = q.station;
            document.getElementById('question-text').textContent = q.question;
            document.getElementById('feedback').style.display = 'none';

            const container = document.getElementById('options-container');
            container.innerHTML = '';

            // Ø®Ù„Ø· Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            const opts = [...q.options].sort(() => Math.random() - 0.5);

            opts.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'btn-option';
                btn.textContent = opt;
                btn.onclick = () => handleAnswer(btn, opt, q.answer);
                container.appendChild(btn);
            });
        }

        function handleAnswer(btn, selected, correct) {
            // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            const buttons = document.querySelectorAll('.btn-option');
            buttons.forEach(b => b.disabled = true);

            const feedback = document.getElementById('feedback');
            feedback.style.display = 'block';

            if (selected === correct) {
                btn.classList.add('correct');
                score++;
                updateProgress();
                feedback.textContent = "Ø£Ø­Ø³Ù†Øª! Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© âœ…";
                feedback.style.background = "#dcfce7";
                feedback.style.color = "#166534";
                setTimeout(() => {
                    currentIdx++;
                    loadQuestion();
                }, 1000);
            } else {
                btn.classList.add('incorrect');
                // ØªØ¸Ù„ÙŠÙ„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
                buttons.forEach(b => {
                    if (b.textContent === correct) b.classList.add('correct');
                });
                
                lives--;
                updateLives();
                feedback.textContent = "Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! Ø§Ù„ÙˆÙ‚ÙˆØ¯ ÙŠÙ†ÙØ¯ âš ï¸";
                feedback.style.background = "#fee2e2";
                feedback.style.color = "#991b1b";

                setTimeout(() => {
                    if (lives <= 0) endScreen(false);
                    else {
                        currentIdx++;
                        loadQuestion();
                    }
                }, 2000);
            }
        }

        function endScreen(win) {
            const gameScreen = document.getElementById('game-screen');
            gameScreen.innerHTML = `
                <div style="text-align:center; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom:10px;">${win ? 'ğŸ‰ğŸ‡©ğŸ‡¿' : 'ğŸ›‘'}</div>
                    <h1 style="color: ${win ? 'var(--primary-green)' : 'var(--primary-red)'}">
                        ${win ? 'ÙˆØµÙ„ Ø§Ù„Ù‚Ø·Ø§Ø± Ø¨Ø³Ù„Ø§Ù…!' : 'Ù†ÙØ¯ Ø§Ù„ÙˆÙ‚ÙˆØ¯!'}
                    </h1>
                    <p style="font-size: 1.2rem; margin: 20px 0;">
                        Ù„Ù‚Ø¯ Ø£Ø¬Ø¨Øª Ø¹Ù„Ù‰ ${score} Ù…Ù† ${totalQuestions} Ø£Ø³Ø¦Ù„Ø©
                    </p>
                    <button class="btn-start" onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ğŸ”„</button>
                </div>
            `;
        }
    </script>
</body>
</html>
